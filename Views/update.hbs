<form action="/api/updateuser/{{user._id}}?_method=PUT" method="POST" enctype="multipart/form-data">
    <div class="form-group">
        <label for="text">Mauser:</label>
        <input type="text" class="form-control" id="Manv" name="Mauser" value="{{user.Mauser}}" required>
        <div class="invalid-feedback">
            Please provide an Mauser.
        </div>
    </div>
    <div class="form-group">
        <label for="text">Tenuser:</label>
        <input type="text" class="form-control" id="Tensp" name="Tenuser" value="{{user.Tenuser}}" required>
        <div class="invalid-feedback">
            Please provide a Tenuser.
        </div>
    </div>
    <div class="form-group">
        <label for="avatar">Avatar</label>
        <div class="custom-file">
            <img src="{{user.image}}" alt="" id="img-preview" style="height: 100px; width: 100px;" value="{{user.image}}">
            <input type="file" class="custom-file-input" id="image" required name="image">
            <label class="custom-file-label" for="avatar">Choose file</label>
        </div>
    </div>
    <div class="form-group">
        <label for="publisher">ageuser:</label>
        <input type="text" class="form-control" id="sizesp" name="ageuser" required value="{{user.ageuser}}">
        <div class="invalid-feedback">
            Please provide a ageuser.
        </div>
    </div>

     <div class="form-group">
    
   <input type="submit" value="Save">
</form>
<script>
    const imgInput = document.getElementById('image');
    const imgPreview = document.getElementById('img-preview');

    imgInput.addEventListener('change', () => {
        const file = imgInput.files[0];
        const reader = new FileReader();

        reader.addEventListener("load", function () {
            imgPreview.src = reader.result;
        }, false);

        if (file) {
            reader.readAsDataURL(file);
        }
    });
</script>